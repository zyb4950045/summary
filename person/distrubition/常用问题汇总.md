#### 分布式基础
    1. CAP和BASE
    2. 双机房解决方案
    //参考基础架构代码

    3. 分布式协议对比
        paxos raft zab
        zab协议 崩溃恢复模式和数据同步模式
        raft 
    4. 分布式锁
        mysql (主键,实现简单,无超时释放,不太优雅)
        redis (优先选择 setnx, 官方推荐的redisson)
        1. 防止业务没有执行完毕分布式锁超时
            通过hash选择一个master加锁,加锁成功会启动一个watch dog后台线程,
            每隔10秒查看一次
            但是如果在加锁期间发生加锁master挂掉,可能存在多个客户端获取锁
        zookeeper (最齐全,但是特别重,不适合并发比较高的场景)
    5. 分布式自增id
        数据库主键生成 (严格递增会暴露数据量, 新来了个可以一次生成一批)
        雪花算法 首位0 41位自动增长时间戳 10位工作id()
    
    6. 熔断和限流
    7. MESI协议
        缓存一致性协议
        M被修改 E独享 S共享 I无效
        除了I都可以读取
        只有M和E才可以写